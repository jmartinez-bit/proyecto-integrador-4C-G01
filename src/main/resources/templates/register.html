<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/layout :: head">
	<title>Registro</title>
</head>
<body>
	<form th:action="@{/register}" th:object="${usuario}" method="POST"
		class="formulario">
		<a href="index.html" class="logo"><div align="center">
				<img th:src="@{/img/logo.png}" class="avatar" alt="Avatar Image"
					width="60">
			</div></a>
		<h1>Registrate</h1>
		<div class="contenedor">
			<!-- Control ataque csrf -->
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
			<!-- fin Control ataque csrf -->
			<div class="input-contenedor">
				<i class="fas fa-user icon"></i> <input type="text"
					th:field="*{username}" placeholder="Ingrese Nombre de Usuario">
				<small class="form-text text-danger"
					th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></small>
			</div>

			<div class="input-contenedor">
				<i class="fas fa-envelope icon"></i> <input type="text"
					th:field="*{email}" placeholder="Ingrese Correo"> <small
					class="form-text text-danger" th:if="${#fields.hasErrors('email')}"
					th:errors="*{email}"></small>
			</div>

			<div class="input-contenedor">
				<i class="fas fa-key icon"></i> <input type="password"
					th:field="*{password}" placeholder="Ingrese nueva Contraseña">
				<small class="form-text text-danger"
					th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></small>
			</div>

			<input type="submit" value="Registrate" class="button">
			<p>Al registrarte, aceptas nuestras Condiciones de uso y Política
				de privacidad.</p>
			<p>
				Ya tienes una cuenta?<a class="link" href="login.html">Iniciar
					Sesion</a>
			</p>
		</div>
		<span th:utext="${successMessage}"></span>
		<div class="alert alert-success alert-dismissible col-sm-12"
			th:if="${(bindingResult != null && bindingResult.getAllErrors() != null)}">
			<button type="button" class="close" data-dismiss="alert"
				aria-hidden="true">�</button>
			<ul th:each="data : ${bindingResult.getAllErrors()}">
				<li
					th:text="${data.getObjectName() + ' :: ' + data.getDefaultMessage()}"></li>
			</ul>
		</div>
	</form>

	<script th:src="@{/js/jquery-3.4.1.min.js}"></script>
	<script th:src="@{/js/header_footer.js}"></script>
</body>
</html>